<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Us ‚Äî A Kinetic Scrapbook</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,900;1,400&family=DM+Sans:wght@300;400;500&family=DM+Serif+Display:ital@0;1&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --bg: #eef7ff;
        --bg2: #e0effc;
        --accent: #64b5f6;
        --accent2: #42a5f5;
        --gold: #d4a256;
        --text: #152b39;
        --text2: #546e7a;
        --glass: rgba(255, 255, 255, 0.45);
        --glass-border: rgba(255, 255, 255, 0.6);
        --shadow: 0 8px 48px rgba(60, 100, 180, 0.15);
        --radius: 28px;
        --transition: 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
        --dock-h: 80px;
        --night-bg: #0d0d1a;
        --night-bg2: #12122a;
        --night-accent: #7b6cff;
        --night-accent2: #e040fb;
        --night-glow: 0 0 40px rgba(123, 108, 255, 0.4);
      }
      [data-night="true"] {
        --bg: #0d0d1a;
        --bg2: #12122a;
        --accent: #7b6cff;
        --accent2: #e040fb;
        --text: #f0eeff;
        --text2: #9d9ec7;
        --glass: rgba(20, 20, 50, 0.45);
        --glass-border: rgba(123, 108, 255, 0.3);
        --shadow: 0 8px 48px rgba(123, 108, 255, 0.2);
        --gold: #e040fb;
      }
      *,
      *::before,
      *::after {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      html {
        scroll-behavior: smooth;
      }
      body {
        background: var(--bg);
        color: var(--text);
        font-family: "DM Sans", sans-serif;
        min-height: 100vh;
        overflow-x: hidden;
        transition:
          background 0.8s ease,
          color 0.5s ease;
        cursor: none;
      }

      /* CUSTOM CURSOR */
      #cursor {
        position: fixed;
        width: 12px;
        height: 12px;
        background: var(--accent);
        border-radius: 50%;
        pointer-events: none;
        z-index: 9999;
        transform: translate(-50%, -50%);
        transition:
          width 0.2s,
          height 0.2s,
          background 0.3s;
        mix-blend-mode: multiply;
      }
      [data-night="true"] #cursor {
        mix-blend-mode: screen;
      }
      #cursor-ring {
        position: fixed;
        width: 40px;
        height: 40px;
        border: 1.5px solid var(--accent);
        border-radius: 50%;
        pointer-events: none;
        z-index: 9998;
        transform: translate(-50%, -50%);
        transition:
          transform 0.12s ease,
          width 0.3s,
          height 0.3s,
          opacity 0.3s;
        opacity: 0.6;
      }
      body:hover #cursor {
        opacity: 1;
      }

      /* GRAIN OVERLAY */
      body::before {
        content: "";
        position: fixed;
        inset: 0;
        z-index: 9990;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='4' stitchTiles='stitch'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3C/filter%3E%3Crect width='300' height='300' filter='url(%23noise)' opacity='0.04'/%3E%3C/svg%3E");
        pointer-events: none;
        opacity: 0.4;
      }

      /* SECTION BASE */
      section {
        position: relative;
      }

      /* ===== HERO SECTION ===== */
      #hero {
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
        padding: 0 24px 100px;
        position: relative;
        overflow: hidden;
      }
      #hero-bg {
        position: absolute;
        inset: 0;
        background: radial-gradient(
          ellipse 80% 60% at 50% 30%,
          rgba(100, 181, 246, 0.2),
          transparent 70%
        );
        transition: background 1s ease;
      }
      [data-night="true"] #hero-bg {
        background: radial-gradient(
          ellipse 80% 60% at 50% 30%,
          rgba(123, 108, 255, 0.15),
          transparent 70%
        );
      }

      .hero-eyebrow {
        font-family: "DM Sans", sans-serif;
        font-size: 11px;
        letter-spacing: 0.35em;
        text-transform: uppercase;
        color: var(--accent2);
        margin-bottom: 28px;
        opacity: 0;
        animation: fadeUp 1s 0.3s forwards;
      }
      [data-night="true"] .hero-eyebrow {
        color: var(--accent);
      }

      .hero-title {
        font-family: "Playfair Display", serif;
        font-size: clamp(52px, 10vw, 120px);
        line-height: 0.95;
        font-weight: 900;
        color: var(--text);
        margin-bottom: 0;
        opacity: 0;
        animation: fadeUp 1s 0.5s forwards;
        position: relative;
        z-index: 2;
        transition: font-variation-settings 0.1s;
        text-shadow: 0 4px 40px rgba(100, 181, 246, 0.3);
      }
      [data-night="true"] .hero-title {
        text-shadow: 0 0 60px rgba(123, 108, 255, 0.4);
      }

      .hero-title em {
        font-style: italic;
        color: var(--accent);
        display: block;
      }

      /* CANVAS LIQUID EFFECT */
      #hero-canvas-wrap {
        position: relative;
        margin: 48px 0;
        opacity: 0;
        animation: fadeUp 1s 0.8s forwards;
      }
      #hero-canvas {
        width: min(480px, 90vw);
        height: min(360px, 67.5vw);
        border-radius: var(--radius);
        display: block;
        box-shadow:
          var(--shadow),
          inset 0 0 0 1px var(--glass-border);
        cursor: none;
      }

      .hero-sub {
        font-size: 15px;
        color: var(--text2);
        max-width: 340px;
        line-height: 1.7;
        opacity: 0;
        animation: fadeUp 1s 1s forwards;
        margin-top: 8px;
      }
      .month-badge {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        background: var(--glass);
        border: 1px solid var(--glass-border);
        backdrop-filter: blur(16px);
        border-radius: 100px;
        padding: 10px 24px;
        font-size: 13px;
        font-weight: 500;
        color: var(--text);
        margin-top: 32px;
        opacity: 0;
        animation: fadeUp 1s 1.2s forwards;
        box-shadow: var(--shadow);
        transition: all 0.3s ease;
      }
      .month-badge:hover {
        transform: scale(1.05);
      }
      .badge-dot {
        width: 8px;
        height: 8px;
        background: var(--accent);
        border-radius: 50%;
        animation: pulse 2s infinite;
      }

      /* ===== FLOATING DOCK ===== */
      #dock {
        position: fixed;
        bottom: 24px;
        left: 50%;
        transform: translateX(-50%);
        z-index: 1000;
        background: var(--glass);
        backdrop-filter: blur(24px) saturate(180%);
        border: 1px solid var(--glass-border);
        border-radius: 100px;
        padding: 12px 24px;
        display: flex;
        align-items: flex-end;
        gap: 8px;
        box-shadow:
          var(--shadow),
          0 0 0 1px rgba(255, 255, 255, 0.1);
        transition: all 0.5s ease;
      }
      [data-night="true"] #dock {
        box-shadow:
          var(--night-glow),
          0 0 0 1px rgba(123, 108, 255, 0.2);
      }
      .dock-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 4px;
        cursor: none;
        transition: transform var(--transition);
        position: relative;
      }
      .dock-icon {
        width: 52px;
        height: 52px;
        border-radius: 16px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
        background: var(--glass);
        border: 1px solid var(--glass-border);
        backdrop-filter: blur(12px);
        transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
        user-select: none;
      }
      .dock-item:hover .dock-icon {
        transform: translateY(-8px) scale(1.3);
        box-shadow: 0 12px 32px rgba(0, 0, 0, 0.15);
      }
      .dock-label {
        font-size: 10px;
        letter-spacing: 0.05em;
        color: var(--text2);
        opacity: 0;
        transition: opacity 0.2s;
        white-space: nowrap;
      }
      .dock-item:hover .dock-label {
        opacity: 1;
      }
      /* Neighbor bounce effect */
      .dock-item.neighbor-1 .dock-icon {
        transform: translateY(-4px) scale(1.15);
      }
      .dock-item.neighbor-2 .dock-icon {
        transform: translateY(-2px) scale(1.06);
      }

      /* ===== DAY/NIGHT TOGGLE ===== */
      #theme-toggle {
        position: fixed;
        top: 24px;
        right: 24px;
        z-index: 1000;
        background: var(--glass);
        backdrop-filter: blur(16px);
        border: 1px solid var(--glass-border);
        border-radius: 100px;
        padding: 6px;
        cursor: none;
        display: flex;
        gap: 4px;
        box-shadow: var(--shadow);
        transition: all 0.3s ease;
      }
      .toggle-btn {
        width: 38px;
        height: 38px;
        border-radius: 100px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 18px;
        border: none;
        background: transparent;
        cursor: none;
        transition: all 0.3s ease;
        color: var(--text);
      }
      .toggle-btn.active {
        background: var(--accent);
        box-shadow: 0 4px 12px rgba(100, 181, 246, 0.4);
      }
      [data-night="true"] .toggle-btn.active {
        background: var(--accent);
        box-shadow: 0 0 16px rgba(123, 108, 255, 0.6);
      }

      /* ===== GALLERY BENTO SECTION ===== */
      #gallery {
        padding: 80px 32px 60px;
        max-width: 1200px;
        margin: 0 auto;
      }
      .section-label {
        font-size: 11px;
        letter-spacing: 0.3em;
        text-transform: uppercase;
        color: var(--text2);
        margin-bottom: 16px;
      }
      .section-title {
        font-family: "Playfair Display", serif;
        font-size: clamp(36px, 6vw, 72px);
        font-weight: 900;
        line-height: 1;
        color: var(--text);
        margin-bottom: 48px;
      }
      .section-title em {
        font-style: italic;
        color: var(--accent);
      }

      .bento-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        grid-template-rows: auto;
        gap: 16px;
      }
      .bento-card {
        border-radius: var(--radius);
        overflow: hidden;
        position: relative;
        background: var(--glass);
        border: 1px solid var(--glass-border);
        backdrop-filter: blur(12px);
        box-shadow: var(--shadow);
        cursor: none;
        transform-style: preserve-3d;
        transition: box-shadow 0.3s ease;
        will-change: transform;
      }
      .bento-card::after {
        content: "";
        position: absolute;
        inset: 0;
        background: linear-gradient(
          135deg,
          rgba(255, 255, 255, 0.15) 0%,
          transparent 60%
        );
        pointer-events: none;
        z-index: 2;
        border-radius: inherit;
      }
      .bento-card:nth-child(1) {
        grid-column: span 2;
        grid-row: span 2;
        min-height: 320px;
      }
      .bento-card:nth-child(2) {
        grid-column: span 1;
        min-height: 150px;
      }
      .bento-card:nth-child(3) {
        grid-column: span 1;
        min-height: 150px;
      }
      .bento-card:nth-child(4) {
        grid-column: span 2;
        min-height: 150px;
      }
      .bento-card:nth-child(5) {
        grid-column: span 1;
        min-height: 200px;
      }
      .bento-card:nth-child(6) {
        grid-column: span 1;
        min-height: 200px;
      }
      .bento-card:nth-child(7) {
        grid-column: span 2;
        min-height: 200px;
      }

      .bento-inner {
        width: 100%;
        height: 100%;
        position: relative;
        overflow: hidden;
        border-radius: inherit;
        min-height: inherit;
      }
      .bento-photo {
        width: 100%;
        height: 100%;
        object-fit: cover;
        position: absolute;
        inset: 0;
        transition: transform 0.5s ease;
      }
      .bento-card:hover .bento-photo {
        transform: scale(1.06);
      }

      .bento-overlay {
        position: absolute;
        inset: 0;
        z-index: 3;
        background: linear-gradient(
          to top,
          rgba(0, 0, 0, 0.55) 0%,
          transparent 60%
        );
        display: flex;
        flex-direction: column;
        justify-content: flex-end;
        padding: 20px;
        opacity: 0;
        transition: opacity 0.3s ease;
      }
      .bento-card:hover .bento-overlay {
        opacity: 1;
      }
      .bento-date {
        font-size: 11px;
        letter-spacing: 0.15em;
        color: rgba(255, 255, 255, 0.7);
      }
      .bento-caption {
        font-family: "Playfair Display", serif;
        font-size: 18px;
        font-style: italic;
        color: #fff;
        margin-top: 4px;
      }

      /* EXPAND MODAL */
      #modal {
        position: fixed;
        inset: 0;
        z-index: 5000;
        background: rgba(0, 0, 0, 0.9);
        display: flex;
        align-items: center;
        justify-content: center;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.4s ease;
        backdrop-filter: blur(12px);
      }
      #modal.open {
        opacity: 1;
        pointer-events: all;
      }
      #modal-inner {
        width: min(700px, 90vw);
        background: var(--bg);
        border-radius: var(--radius);
        overflow: hidden;
        transform: scale(0.85);
        transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        box-shadow: 0 40px 100px rgba(0, 0, 0, 0.5);
      }
      #modal.open #modal-inner {
        transform: scale(1);
      }
      #modal-photo-wrap {
        width: 100%;
        padding-top: 66.6%;
        position: relative;
        overflow: hidden;
      }
      #modal-photo {
        position: absolute;
        inset: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
      #modal-body {
        padding: 28px;
      }
      #modal-title {
        font-family: "Playfair Display", serif;
        font-size: 28px;
        font-style: italic;
        color: var(--text);
      }
      #modal-date {
        font-size: 12px;
        letter-spacing: 0.2em;
        color: var(--text2);
        margin-top: 8px;
      }
      #modal-close {
        position: absolute;
        top: 16px;
        right: 16px;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.2);
        border: 1px solid rgba(255, 255, 255, 0.3);
        backdrop-filter: blur(8px);
        cursor: none;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 18px;
        color: #fff;
        transition: all 0.2s ease;
        z-index: 10;
      }
      #modal-close:hover {
        background: rgba(255, 255, 255, 0.35);
        transform: scale(1.1);
      }

      /* ===== TIMELINE HORIZONTAL ===== */
      #timeline-outer {
        position: relative;
        overflow: hidden;
        height: 100vh;
        background: var(--bg2);
        transition: background 0.8s ease;
      }
      #timeline-sticky {
        position: sticky;
        top: 0;
        height: 100vh;
        overflow: hidden;
        display: flex;
        align-items: center;
      }
      #timeline-track {
        display: flex;
        align-items: center;
        gap: 60px;
        padding: 0 80px;
        will-change: transform;
      }
      .tl-chapter {
        flex-shrink: 0;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 20px;
      }
      .tl-chapter-title {
        font-family: "Playfair Display", serif;
        font-size: 13px;
        font-style: italic;
        color: var(--text2);
        letter-spacing: 0.1em;
        white-space: nowrap;
      }
      .tl-layers {
        position: relative;
        width: 280px;
        height: 360px;
      }
      .tl-layer {
        position: absolute;
        border-radius: var(--radius);
        overflow: hidden;
        box-shadow: var(--shadow);
        border: 1px solid var(--glass-border);
      }
      .tl-layer-bg {
        width: 240px;
        height: 300px;
        left: 20px;
        top: 30px;
        will-change: transform;
        background: #ccc;
      }
      .tl-layer-mid {
        width: 200px;
        height: 260px;
        left: 40px;
        top: 50px;
        will-change: transform;
        background: #bbb;
      }
      .tl-layer-fg {
        width: 160px;
        height: 200px;
        left: 60px;
        top: 80px;
        border-radius: 20px;
        background: var(--glass);
        backdrop-filter: blur(8px);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 48px;
        will-change: transform;
        border: 1px solid var(--glass-border);
      }
      .tl-layer img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
      .tl-note {
        font-size: 13px;
        color: var(--text2);
        text-align: center;
        max-width: 240px;
        line-height: 1.6;
      }
      /* Section transition marker */
      .tl-intro {
        flex-shrink: 0;
        padding-right: 40px;
      }
      .tl-intro h2 {
        font-family: "Playfair Display", serif;
        font-size: clamp(48px, 6vw, 80px);
        font-weight: 900;
        line-height: 0.95;
        color: var(--text);
        max-width: 360px;
      }
      .tl-intro h2 em {
        font-style: italic;
        color: var(--accent);
        display: block;
      }

      /* ===== WISH JAR ===== */
      #wishjar {
        padding: 100px 32px;
        text-align: center;
        position: relative;
        overflow: hidden;
        min-height: 700px;
      }
      #wishjar-bg {
        position: absolute;
        inset: 0;
        background: radial-gradient(
          ellipse 60% 50% at 50% 80%,
          rgba(100, 181, 246, 0.2),
          transparent
        );
        transition: background 0.8s ease;
        pointer-events: none;
      }
      [data-night="true"] #wishjar-bg {
        background: radial-gradient(
          ellipse 60% 50% at 50% 80%,
          rgba(123, 108, 255, 0.15),
          transparent
        );
      }
      .jar-title {
        font-family: "Playfair Display", serif;
        font-size: clamp(40px, 6vw, 72px);
        font-weight: 900;
        line-height: 1;
        margin-bottom: 16px;
        position: relative;
        z-index: 2;
      }
      .jar-title em {
        font-style: italic;
        color: var(--accent);
      }
      .jar-sub {
        font-size: 15px;
        color: var(--text2);
        margin-bottom: 48px;
        position: relative;
        z-index: 2;
      }
      #jar-arena {
        position: relative;
        width: 100%;
        max-width: 700px;
        margin: 0 auto;
        height: 360px;
        overflow: visible;
      }

      #flowers-container {
        position: absolute;
        inset: 0;
        z-index: 2;
        overflow: visible;
      }
      #jar-svg-wrap {
        position: absolute;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        z-index: 3;
        pointer-events: none;
      }
      #jar-svg {
        width: 180px;
        filter: drop-shadow(0 8px 32px rgba(100, 181, 246, 0.4));
      }
      [data-night="true"] #jar-svg {
        filter: drop-shadow(0 8px 32px rgba(123, 108, 255, 0.4));
      }
      .flower {
        position: absolute;
        font-size: 32px;
        cursor: grab;
        user-select: none;
        transition: transform 0.1s;
        will-change: transform;
        filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.15));
        animation: popIn 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) backwards;
      }
      .flower:active {
        cursor: grabbing;
        transform: scale(1.3);
      }
      .flower.collected {
        animation: collectAnim 0.5s forwards;
      }
      @keyframes collectAnim {
        0% {
          transform: scale(1.3);
        }
        50% {
          transform: scale(0.5) translateY(40px);
          opacity: 0.5;
        }
        100% {
          transform: scale(0);
          opacity: 0;
        }
      }

      #jar-count {
        position: absolute;
        bottom: 12px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 12px;
        letter-spacing: 0.2em;
        color: var(--text2);
        z-index: 4;
        font-family: "DM Sans", sans-serif;
        white-space: nowrap;
      }
      .jar-progress {
        width: 200px;
        height: 4px;
        background: rgba(0, 0, 0, 0.1);
        border-radius: 2px;
        margin: 24px auto 0;
        overflow: hidden;
        position: relative;
        z-index: 2;
      }
      .jar-progress-fill {
        height: 100%;
        background: var(--accent);
        border-radius: 2px;
        width: 0%;
        transition: width 0.5s ease;
      }

      /* CONFETTI */
      #confetti-layer {
        position: fixed;
        inset: 0;
        z-index: 9000;
        pointer-events: none;
        overflow: hidden;
        display: none;
      }
      .confetti-piece {
        position: absolute;
        width: 10px;
        height: 10px;
        border-radius: 2px;
        animation: confettiFall linear forwards;
      }
      @keyframes confettiFall {
        0% {
          transform: translateY(-20px) rotate(0deg);
          opacity: 1;
        }
        100% {
          transform: translateY(110vh) rotate(720deg);
          opacity: 0;
        }
      }
      #celebration-overlay {
        position: fixed;
        inset: 0;
        z-index: 8999;
        background: rgba(0, 0, 0, 0);
        display: flex;
        align-items: center;
        justify-content: center;
        pointer-events: none;
        opacity: 0;
        transition: opacity 0.5s ease;
      }
      #celebration-overlay.show {
        opacity: 1;
      }
      .celebration-text {
        font-family: "Playfair Display", serif;
        font-size: clamp(40px, 8vw, 90px);
        font-weight: 900;
        color: #fff;
        text-shadow: 0 0 60px rgba(100, 181, 246, 0.8);
        text-align: center;
        animation: celebPop 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
      }
      @keyframes celebPop {
        from {
          transform: scale(0.3) rotate(-5deg);
        }
        to {
          transform: scale(1) rotate(0deg);
        }
      }

      /* ===== COLOR FLASH (background morph) ===== */
      #bg-flash {
        position: fixed;
        inset: 0;
        z-index: -1;
        pointer-events: none;
        transition: background 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      }

      /* ===== KEYFRAMES ===== */
      @keyframes fadeUp {
        from {
          opacity: 0;
          transform: translateY(24px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      @keyframes pulse {
        0%,
        100% {
          transform: scale(1);
          opacity: 1;
        }
        50% {
          transform: scale(1.5);
          opacity: 0.6;
        }
      }
      @keyframes float {
        0%,
        100% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-12px);
        }
      }
      @keyframes popIn {
        from {
          opacity: 0;
          transform: scale(0);
        }
        to {
          opacity: 1;
          transform: scale(1);
        }
      }

      /* ===== SECTION DIVIDERS ===== */
      .divider {
        text-align: center;
        padding: 20px 0;
        font-size: 24px;
        letter-spacing: 0.3em;
        color: var(--text2);
        opacity: 0.4;
      }

      /* ===== PHOTO PLACEHOLDERS ===== */
      .photo-placeholder {
        width: 100%;
        height: 100%;
        position: absolute;
        inset: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
        gap: 8px;
        font-size: 36px;
      }
      .photo-placeholder-label {
        font-size: 11px;
        letter-spacing: 0.15em;
        text-transform: uppercase;
        color: rgba(255, 255, 255, 0.6);
      }

      /* Bento photo colors */
      .bento-card:nth-child(1) .photo-placeholder {
        background: linear-gradient(135deg, #90caf9, #64b5f6);
      }
      .bento-card:nth-child(2) .photo-placeholder {
        background: linear-gradient(135deg, #e3f2fd, #bbdefb);
      }
      .bento-card:nth-child(3) .photo-placeholder {
        background: linear-gradient(135deg, #b3e5fc, #81d4fa);
      }
      .bento-card:nth-child(4) .photo-placeholder {
        background: linear-gradient(135deg, #e0f7fa, #b2ebf2);
      }
      .bento-card:nth-child(5) .photo-placeholder {
        background: linear-gradient(135deg, #e1f5fe, #b3e5fc);
      }
      .bento-card:nth-child(6) .photo-placeholder {
        background: linear-gradient(135deg, #e8eaf6, #c5cae9);
      }
      .bento-card:nth-child(7) .photo-placeholder {
        background: linear-gradient(135deg, #bbdefb, #90caf9);
      }

      /* NIGHT MODE photo tints */
      [data-night="true"] .bento-card:nth-child(1) .photo-placeholder {
        background: linear-gradient(135deg, #1a0a2e, #2a0f4a);
        filter: saturate(0) brightness(0.6);
      }

      /* ===== SCROLL INDICATOR ===== */
      #scroll-indicator {
        position: absolute;
        bottom: 40px;
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 8px;
        color: var(--text2);
        font-size: 11px;
        letter-spacing: 0.2em;
        opacity: 0;
        animation: fadeUp 1s 1.5s forwards;
        text-transform: uppercase;
      }
      .scroll-line {
        width: 1px;
        height: 48px;
        background: linear-gradient(to bottom, transparent, var(--text2));
        animation: scrollLine 1.5s ease-in-out infinite;
      }
      @keyframes scrollLine {
        0% {
          transform: scaleY(0);
          transform-origin: top;
        }
        50% {
          transform: scaleY(1);
          transform-origin: top;
        }
        51% {
          transform: scaleY(1);
          transform-origin: bottom;
        }
        100% {
          transform: scaleY(0);
          transform-origin: bottom;
        }
      }

      /* ===== LOVE LETTER SECTION ===== */
      #letter {
        padding: 80px 32px;
        max-width: 700px;
        margin: 0 auto;
        text-align: center;
      }
      .letter-content {
        background: var(--glass);
        border: 1px solid var(--glass-border);
        backdrop-filter: blur(16px);
        border-radius: var(--radius);
        padding: 48px;
        box-shadow: var(--shadow);
        position: relative;
        overflow: hidden;
      }
      .letter-content::before {
        content: '"';
        position: absolute;
        top: -20px;
        left: 24px;
        font-family: "Playfair Display", serif;
        font-size: 200px;
        line-height: 1;
        color: var(--accent);
        opacity: 0.08;
        pointer-events: none;
      }
      .letter-text {
        font-family: "DM Serif Display", serif;
        font-size: clamp(18px, 2.5vw, 24px);
        line-height: 1.7;
        color: var(--text);
        font-style: italic;
        position: relative;
        z-index: 1;
      }
      .letter-sig {
        margin-top: 32px;
        font-family: "Playfair Display", serif;
        font-size: 20px;
        color: var(--accent);
        font-style: italic;
      }

      /* ===== RESPONSIVE ===== */
      @media (max-width: 768px) {
        .bento-grid {
          grid-template-columns: repeat(2, 1fr);
        }
        .bento-card:nth-child(1) {
          grid-column: span 2;
        }
        .bento-card:nth-child(4) {
          grid-column: span 2;
        }
        .bento-card:nth-child(7) {
          grid-column: span 2;
        }
        #dock {
          padding: 10px 16px;
          gap: 4px;
        }
        .dock-icon {
          width: 44px;
          height: 44px;
          font-size: 20px;
        }
        #timeline-sticky {
          position: relative;
          height: auto;
          display: block;
        }
        #timeline-outer {
          height: auto !important;
        }
        #timeline-track {
          flex-direction: column;
          transform: none !important;
          padding: 40px 20px;
          gap: 40px;
        }
        .tl-intro h2 {
          font-size: 32px;
          text-align: center;
        }
      }
    </style>
  </head>
  <body data-night="false">
    <div id="cursor"></div>
    <div id="cursor-ring"></div>

    <div id="bg-flash"></div>

    <div id="confetti-layer"></div>
    <div id="celebration-overlay">
      <div class="celebration-text">üíï Happy Monthsary! üíï</div>
    </div>

    <div id="modal">
      <div style="position: relative; width: min(700px, 90vw)">
        <button id="modal-close" onclick="closeModal()">‚úï</button>
        <div id="modal-inner">
          <div id="modal-photo-wrap">
            <div id="modal-photo"></div>
          </div>
          <div id="modal-body">
            <div id="modal-title">A Beautiful Memory</div>
            <div id="modal-date">Our story</div>
          </div>
        </div>
      </div>
    </div>

    <div id="theme-toggle">
      <button
        class="toggle-btn active"
        id="btn-day"
        onclick="setTheme(false)"
        title="Day Mode"
      >
        ‚òÄÔ∏è
      </button>
      <button
        class="toggle-btn"
        id="btn-night"
        onclick="setTheme(true)"
        title="Night Mode"
      >
        üåô
      </button>
    </div>

    <section id="hero">
      <div id="hero-bg"></div>
      <div class="hero-eyebrow">Every moment matters</div>
      <h1 class="hero-title" id="hero-title">
        Happy 30th<br /><em>Monthsary</em>, love
      </h1>
      <div id="hero-canvas-wrap">
        <canvas id="hero-canvas"></canvas>
        <div
          style="
            position: absolute;
            bottom: 16px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 11px;
            letter-spacing: 0.15em;
            color: rgba(255, 255, 255, 0.6);
            text-transform: uppercase;
            pointer-events: none;
            z-index: 10;
          "
        >
          ‚ú¶ Hover to reveal ‚ú¶
        </div>
      </div>
      <p class="hero-sub">
        Just a simple WebDesign gift love para sa 30th monthsary natin!
      </p>
      <div class="month-badge">
        <div class="badge-dot"></div>
        <span>Celebrating our journey together</span>
      </div>
      <div id="scroll-indicator">
        <div class="scroll-line"></div>
        Scroll to explore
      </div>
    </section>

    <div class="divider">‚ú¶ ‚ú¶ ‚ú¶</div>

    <section id="gallery">
      <div class="section-label">Our Memories</div>
      <h2 class="section-title">Every photo<br />tells <em>our story</em></h2>

      <div class="bento-grid" id="bento-grid">
        <div
          class="bento-card"
          data-title="1st Gym PIc"
          data-date="Ang sexy natin hehe"
        >
          <div class="bento-inner">
            <div class="photo-placeholder">
              <span class="photo-placeholder-label">Memory 1</span>
            </div>
            <img
              src="3.JPG"
              class="bento-photo"
              alt="Memory 1"
              onerror="this.style.display = 'none'"
            />
            <div class="bento-overlay">
              <div class="bento-date">GYM DATE</div>
              <div class="bento-caption">Ang sexy natin hehe</div>
            </div>
          </div>
        </div>

        <div
          class="bento-card"
          data-title="Your Cutest Smile"
          data-date="napa-smile dahil sa mushroom"
        >
          <div class="bento-inner">
            <div class="photo-placeholder">
              <span class="photo-placeholder-label">Memory 2</span>
            </div>
            <img
              src="2.JPG"
              class="bento-photo"
              alt="Memory 2"
              onerror="this.style.display = 'none'"
            />
          </div>
        </div>

        <div
          class="bento-card"
          data-title="Latest Pillow Gift"
          data-date="may bagong alien and puting"
        >
          <div class="bento-inner">
            <div class="photo-placeholder">
              <span class="photo-placeholder-label">Memory 3</span>
            </div>
            <img
              src="1.JPG"
              class="bento-photo"
              alt="Memory 3"
              onerror="this.style.display = 'none'"
            />
          </div>
        </div>

        <div
          class="bento-card"
          data-title="My 1st favorite photo of us"
          data-date="panahong pabebe pa tayo"
        >
          <div class="bento-inner">
            <div class="photo-placeholder">
              <span class="photo-placeholder-label">Memory 4</span>
            </div>
            <img
              src="4.JPG"
              class="bento-photo"
              alt="Memory 4"
              onerror="this.style.display = 'none'"
            />
          </div>
        </div>

        <div
          class="bento-card"
          data-title="1st ever picture natin na naka talikod"
          data-date="its cute"
        >
          <div class="bento-inner">
            <div class="photo-placeholder">
              <span class="photo-placeholder-label">Memory 5</span>
            </div>
            <img
              src="5.JPG"
              class="bento-photo"
              alt="Memory 5"
              onerror="this.style.display = 'none'"
            />
          </div>
        </div>

        <div
          class="bento-card"
          data-title="My favourite gift sayo"
          data-date="SI TOTOROOOO"
        >
          <div class="bento-inner">
            <div class="photo-placeholder">
              <span class="photo-placeholder-label">Memory 6</span>
            </div>
            <img
              src="6.JPG"
              class="bento-photo"
              alt="Memory 6"
              onerror="this.style.display = 'none'"
            />
          </div>
        </div>

        <div
          class="bento-card"
          data-title="MY FAVOURITE GIFT SA AKIN!!"
          data-date="nakalagay parin yan sa room ko hehe"
        >
          <div class="bento-inner">
            <div class="photo-placeholder">
              <span class="photo-placeholder-label">Memory 7</span>
            </div>
            <img
              src="7.JPG"
              class="bento-photo"
              alt="Memory 7"
              onerror="this.style.display = 'none'"
            />
          </div>
        </div>
      </div>
    </section>

    <div class="divider">‚ú¶ ‚ú¶ ‚ú¶</div>

    <section id="letter">
      <div class="section-label">A Note For You</div>
      <div class="letter-content">
        <p class="letter-text">
          Happy Monthsary, love. Thank you sa sobrang joy, patience, and super
          na love na pinaparanas mo sakin everyday. Kahit minsan may mga
          misunderstandings tayo or like away, sayo ko parin nahahanap yung
          peace na need ko sa isang araw. Always remember na love kita, no
          matter what. Looking forward to more memories, adventures, and love
          with you. You mean the world to me, and I can't wait to see what the
          future holds for us.
        </p>
        <div class="letter-sig">‚Äî dave</div>
      </div>
    </section>

    <div class="divider">‚ú¶ ‚ú¶ ‚ú¶</div>

    <section id="wishjar">
      <div id="wishjar-bg"></div>
      <div class="section-label">The Digital Wish Jar</div>
      <h2 class="jar-title">Fill the jar with <em>our love</em></h2>
      <p class="jar-sub">
        Drag the flowers & stars into the jar. Each one is a month of us. üíï
      </p>

      <div id="jar-arena">
        <div id="flowers-container"></div>
        <div id="jar-svg-wrap">
          <svg
            id="jar-svg"
            viewBox="0 0 180 220"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <defs>
              <linearGradient id="jg" x1="0" y1="0" x2="1" y2="1">
                <stop offset="0%" stop-color="rgba(232,165,152,0.7)" />
                <stop offset="100%" stop-color="rgba(212,162,86,0.5)" />
              </linearGradient>
              <clipPath id="jar-clip">
                <path
                  d="M55 50 Q50 40 50 30 L55 20 Q90 10 125 20 L130 30 Q130 40 125 50 L140 60 Q150 80 150 140 Q150 200 90 200 Q30 200 30 140 Q30 80 40 60 Z"
                />
              </clipPath>
            </defs>
            <path
              d="M55 50 Q50 40 50 30 L55 20 Q90 10 125 20 L130 30 Q130 40 125 50 L140 60 Q150 80 150 140 Q150 200 90 200 Q30 200 30 140 Q30 80 40 60 Z"
              fill="url(#jg)"
              stroke="rgba(255,255,255,0.6)"
              stroke-width="1.5"
            />
            <ellipse
              cx="72"
              cy="100"
              rx="8"
              ry="40"
              fill="rgba(255,255,255,0.15)"
              transform="rotate(-10,72,100)"
            />
            <rect
              id="jar-fill-rect"
              x="30"
              y="200"
              width="120"
              height="0"
              fill="rgba(232,165,152,0.4)"
              clip-path="url(#jar-clip)"
              transform="scale(1,-1) translate(0,-220)"
            />
            <path
              d="M55 50 Q50 40 50 30 L55 20 Q90 10 125 20 L130 30 Q130 40 125 50 L140 60 Q150 80 150 140 Q150 200 90 200 Q30 200 30 140 Q30 80 40 60 Z"
              fill="none"
              stroke="rgba(255,255,255,0.8)"
              stroke-width="0.5"
            />
          </svg>
          <div id="jar-count">0 / 12</div>
        </div>
      </div>

      <div class="jar-progress">
        <div class="jar-progress-fill" id="jar-progress-fill"></div>
      </div>
    </section>

    <nav id="dock">
      <div
        class="dock-item"
        onclick="dockClick('heart', '#eef7ff')"
        title="Our Love"
      >
        <div class="dock-icon">üíñ</div>
        <div class="dock-label">Love</div>
      </div>
      <div
        class="dock-item"
        onclick="dockClick('gallery', '#e3f2fd')"
        title="Gallery"
      >
        <div class="dock-icon">üì∏</div>
        <div class="dock-label">Gallery</div>
      </div>
      <div
        class="dock-item"
        onclick="dockClick('map', '#e0f7fa')"
        title="Adventures"
      >
        <div class="dock-icon">üìç</div>
        <div class="dock-label">Adventures</div>
      </div>
      <div
        class="dock-item"
        onclick="dockClick('timeline', '#e1f5fe')"
        title="Timeline"
      >
        <div class="dock-icon">‚è≥</div>
        <div class="dock-label">Timeline</div>
      </div>
      <div
        class="dock-item"
        onclick="dockClick('jar', '#e8eaf6')"
        title="Wish Jar"
      >
        <div class="dock-icon">ü´ô</div>
        <div class="dock-label">Jar</div>
      </div>
    </nav>

    <script>
      // =============================================
      //  CURSOR
      // =============================================
      const cursor = document.getElementById("cursor");
      const cursorRing = document.getElementById("cursor-ring");
      let mx = 0,
        my = 0,
        rx = 0,
        ry = 0;

      document.addEventListener("mousemove", (e) => {
        mx = e.clientX;
        my = e.clientY;
        cursor.style.left = mx + "px";
        cursor.style.top = my + "px";
      });

      function animRing() {
        rx += (mx - rx) * 0.12;
        ry += (my - ry) * 0.12;
        cursorRing.style.left = rx + "px";
        cursorRing.style.top = ry + "px";
        requestAnimationFrame(animRing);
      }
      animRing();

      document
        .querySelectorAll(
          "button,.dock-item,.bento-card,.flower,#modal-close,.toggle-btn",
        )
        .forEach((el) => {
          el.addEventListener("mouseenter", () => {
            cursor.style.width = "24px";
            cursor.style.height = "24px";
            cursorRing.style.width = "60px";
            cursorRing.style.height = "60px";
          });
          el.addEventListener("mouseleave", () => {
            cursor.style.width = "12px";
            cursor.style.height = "12px";
            cursorRing.style.width = "40px";
            cursorRing.style.height = "40px";
          });
        });

      // =============================================
      //  HERO CANVAS ‚Äî LIQUID EFFECT
      // =============================================
      const canvas = document.getElementById("hero-canvas");
      const ctx = canvas.getContext("2d");

      // Load hero image
      const heroImg = new Image();
      heroImg.src = "10.JPG";

      function resizeCanvas() {
        const wrap = document.getElementById("hero-canvas-wrap");
        const w = Math.min(480, window.innerWidth * 0.9);
        const h = w * 0.75;
        canvas.width = w;
        canvas.height = h;
        canvas.style.width = w + "px";
        canvas.style.height = h + "px";
      }
      resizeCanvas();
      window.addEventListener("resize", resizeCanvas);

      let ripples = [];
      let time = 0;
      let isNight = false;

      function getGradient1() {
        const g = ctx.createRadialGradient(
          canvas.width * 0.35,
          canvas.height * 0.4,
          20,
          canvas.width * 0.5,
          canvas.height * 0.5,
          canvas.width * 0.6,
        );
        if (isNight) {
          g.addColorStop(0, "#2a1060");
          g.addColorStop(0.4, "#150830");
          g.addColorStop(1, "#0a0520");
        } else {
          g.addColorStop(0, "#bbdefb");
          g.addColorStop(0.4, "#64b5f6");
          g.addColorStop(1, "#42a5f5");
        }
        return g;
      }
      function getGradient2() {
        const g = ctx.createRadialGradient(
          canvas.width * 0.65,
          canvas.height * 0.55,
          20,
          canvas.width * 0.5,
          canvas.height * 0.5,
          canvas.width * 0.6,
        );
        if (isNight) {
          g.addColorStop(0, "#3a1a80");
          g.addColorStop(0.5, "#1a0845");
          g.addColorStop(1, "#0d0525");
        } else {
          g.addColorStop(0, "#e3f2fd");
          g.addColorStop(0.5, "#bbdefb");
          g.addColorStop(1, "#90caf9");
        }
        return g;
      }

      function drawLiquid() {
        time += 0.018;
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        // Base gradient
        ctx.fillStyle = getGradient2();
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        // Wavy shape overlay
        ctx.save();
        ctx.beginPath();
        const W = canvas.width,
          H = canvas.height;
        const amp = 18 + ripples.reduce((s, r) => s + r.strength, 0) * 0.3;

        for (let x = 0; x <= W; x += 2) {
          const progress = x / W;
          let y = H * 0.5;

          // Base wave
          y += Math.sin(progress * Math.PI * 3 + time) * amp;
          y += Math.sin(progress * Math.PI * 5 - time * 1.3) * (amp * 0.5);

          // Ripple contribution
          ripples.forEach((r) => {
            const dx = x - r.x,
              dy = H / 2 - r.y;
            const dist = Math.sqrt(dx * dx + dy * dy);
            const wave =
              Math.sin(dist * 0.06 - time * 4) *
              r.strength *
              Math.exp(-dist * 0.008);
            y += wave;
          });

          if (x === 0) ctx.moveTo(x, y);
          else ctx.lineTo(x, y);
        }
        ctx.lineTo(W, H);
        ctx.lineTo(0, H);
        ctx.closePath();
        ctx.fillStyle = getGradient1();
        ctx.fill();

        // Floating emojis / hearts
        const symbols = ["üíï", "üå∏", "‚ú®", "üí´", "üåπ"];
        symbols.forEach((s, i) => {
          const x = W * (0.15 + i * 0.18);
          const y = H * 0.3 + Math.sin(time * 0.8 + i * 1.2) * 15;
          const alpha = 0.5 + 0.3 * Math.sin(time + i);
          ctx.save();
          ctx.globalAlpha = alpha;
          ctx.font = `${22 + Math.sin(time + i) * 4}px serif`;
          ctx.textAlign = "center";
          ctx.fillText(s, x, y);
          ctx.restore();
        });

        // Text
        ctx.save();
        ctx.textAlign = "center";
        ctx.font = `italic bold ${clamp(20, W * 0.055, 32)}px Playfair Display, serif`;
        ctx.fillStyle = isNight
          ? "rgba(200,180,255,0.9)"
          : "rgba(100,40,20,0.7)";

        // Draw hero image if loaded
        if (heroImg.complete && heroImg.naturalHeight !== 0) {
          ctx.save();
          ctx.globalAlpha = 0.85;
          // Calculate centered crop
          const imgRatio = heroImg.width / heroImg.height;
          const canvasRatio = W / H;
          let sx = 0,
            sy = 0,
            sw = heroImg.width,
            sh = heroImg.height;

          if (imgRatio > canvasRatio) {
            sw = heroImg.height * canvasRatio;
            sx = (heroImg.width - sw) / 2;
          } else {
            sh = heroImg.width / canvasRatio;
            sy = (heroImg.height - sh) / 2;
          }

          ctx.drawImage(heroImg, sx, sy, sw, sh, 0, 0, W, H);
          ctx.restore();
        }
        ctx.restore();

        // Decay ripples
        ripples = ripples
          .map((r) => ({ ...r, strength: r.strength * 0.95 }))
          .filter((r) => r.strength > 0.3);

        requestAnimationFrame(drawLiquid);
      }
      drawLiquid();

      canvas.addEventListener("mousemove", (e) => {
        const rect = canvas.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;
        ripples.push({ x, y, strength: 12 + Math.random() * 8 });
        if (ripples.length > 20) ripples.shift();
      });

      canvas.addEventListener("click", (e) => {
        const rect = canvas.getBoundingClientRect();
        for (let i = 0; i < 5; i++) {
          ripples.push({
            x: e.clientX - rect.left,
            y: e.clientY - rect.top,
            strength: 20 + i * 4,
          });
        }
      });

      function clamp(min, val, max) {
        return Math.min(Math.max(val, min), max);
      }

      // =============================================
      //  SCROLL ‚Üí HERO TITLE WEIGHT (Variable Font sim)
      // =============================================
      let lastScroll = 0;
      let scrollVel = 0;
      window.addEventListener("scroll", () => {
        const now = window.scrollY;
        scrollVel = Math.abs(now - lastScroll);
        lastScroll = now;
        const title = document.getElementById("hero-title");
        const weight = Math.min(900, 400 + scrollVel * 20);
        title.style.fontWeight = weight;
        title.style.letterSpacing = -0.02 + scrollVel * 0.005 + "em";
      });

      // =============================================
      //  DOCK ‚Äî Magnetic Hover
      // =============================================
      const dockItems = document.querySelectorAll(".dock-item");
      dockItems.forEach((item, i) => {
        item.addEventListener("mouseenter", () => {
          dockItems.forEach((other, j) => {
            const dist = Math.abs(j - i);
            other.classList.remove("neighbor-1", "neighbor-2");
            if (dist === 1) other.classList.add("neighbor-1");
            if (dist === 2) other.classList.add("neighbor-2");
          });
        });
        item.addEventListener("mouseleave", () => {
          dockItems.forEach((o) =>
            o.classList.remove("neighbor-1", "neighbor-2"),
          );
        });
      });

      // =============================================
      //  DOCK CLICK ‚Äî Background Morph
      // =============================================
      const bgSections = {
        heart: {
          day: "linear-gradient(135deg,#eef7ff,#e3f2fd)",
          night: "linear-gradient(135deg,#0d0d1a,#1a0a2e)",
          section: "hero",
        },
        gallery: {
          day: "linear-gradient(135deg,#e3f2fd,#bbdefb)",
          night: "linear-gradient(135deg,#0d0d1a,#0a0a25)",
          section: "gallery",
        },
        map: {
          day: "linear-gradient(135deg,#e0f7fa,#b2ebf2)",
          night: "linear-gradient(135deg,#0d1a14,#0a1a10)",
          section: "timeline-outer",
        },
        timeline: {
          day: "linear-gradient(135deg,#e1f5fe,#b3e5fc)",
          night: "linear-gradient(135deg,#1a100d,#200f0a)",
          section: "timeline-outer",
        },
        jar: {
          day: "linear-gradient(135deg,#e8eaf6,#c5cae9)",
          night: "linear-gradient(135deg,#1a0d15,#200a15)",
          section: "wishjar",
        },
      };
      function dockClick(key, colorDay) {
        const bgFlash = document.getElementById("bg-flash");
        const night = document.body.dataset.night === "true";
        const cfg = bgSections[key];
        bgFlash.style.background = night ? cfg.night : cfg.day;
        const target = document.getElementById(cfg.section);
        if (target) target.scrollIntoView({ behavior: "smooth" });
        // Bounce animation
        const icon = document.querySelector(
          `.dock-item[onclick*="${key}"] .dock-icon`,
        );
        if (icon) {
          icon.style.transform = "translateY(-20px) scale(1.4)";
          setTimeout(() => {
            icon.style.transform = "";
          }, 400);
        }
      }

      // =============================================
      //  BENTO TILT (vanilla-tilt simulation)
      // =============================================
      document.querySelectorAll(".bento-card").forEach((card) => {
        card.addEventListener("mousemove", (e) => {
          const rect = card.getBoundingClientRect();
          const x = (e.clientX - rect.left) / rect.width - 0.5;
          const y = (e.clientY - rect.top) / rect.height - 0.5;
          card.style.transform = `perspective(1000px) rotateY(${x * 12}deg) rotateX(${-y * 12}deg) scale(1.03)`;
          card.style.boxShadow = `${-x * 20}px ${-y * 20}px 60px rgba(180,100,80,0.2), 0 8px 48px rgba(180,100,80,0.13)`;
        });
        card.addEventListener("mouseleave", () => {
          card.style.transform =
            "perspective(1000px) rotateY(0) rotateX(0) scale(1)";
          card.style.boxShadow = "";
          card.style.transition = "transform 0.5s ease, box-shadow 0.5s ease";
        });
        card.addEventListener("mouseenter", () => {
          card.style.transition = "none";
        });
        card.addEventListener("click", () => {
          const img = card.querySelector(".bento-photo");
          const content = img
            ? img.src
            : card.querySelector(".photo-placeholder")?.style.background || "";
          openModal(
            card.dataset.title || "A Beautiful Memory",
            card.dataset.date || "Our story",
            content,
          );
        });
      });

      // =============================================
      //  MODAL
      // =============================================
      function openModal(title, date, content) {
        const modal = document.getElementById("modal");
        const photo = document.getElementById("modal-photo");
        document.getElementById("modal-title").textContent = title;
        document.getElementById("modal-date").textContent = date;

        photo.style.background = "";
        photo.textContent = "";
        photo.style.display = "block";

        if (content && content.includes("gradient")) {
          photo.style.background = content;
          photo.style.display = "flex";
          photo.style.alignItems = "center";
          photo.style.justifyContent = "center";
          photo.style.fontSize = "64px";
          photo.textContent = "üíï";
        } else {
          photo.style.background = `url(${content}) center/cover no-repeat`;
        }
        modal.classList.add("open");
      }
      function closeModal() {
        document.getElementById("modal").classList.remove("open");
      }
      document.getElementById("modal").addEventListener("click", (e) => {
        if (e.target === document.getElementById("modal")) closeModal();
      });

      // =============================================
      //  WISH JAR
      // =============================================
      const FLOWERS = [
        "üå∏",
        "üå∫",
        "üåª",
        "üíê",
        "üåπ",
        "‚≠ê",
        "üí´",
        "‚ú®",
        "üåü",
        "üíï",
        "ü¶ã",
        "üçÄ",
      ];
      const TARGET = 12;
      let collectedCount = 0;
      const container = document.getElementById("flowers-container");
      const jarArena = document.getElementById("jar-arena");

      function spawnFlowers() {
        FLOWERS.forEach((emoji, i) => {
          const el = document.createElement("div");
          el.className = "flower";
          el.textContent = emoji;
          el.style.left = 8 + Math.random() * 78 + "%";
          el.style.top = 5 + Math.random() * 60 + "%";
          el.style.animationDelay = i * 0.1 + "s";
          el.style.fontSize = 24 + Math.random() * 20 + "px";
          makeDraggable(el);
          container.appendChild(el);
        });
      }
      spawnFlowers();

      function makeDraggable(el) {
        let isDragging = false;
        let startX, startY, origX, origY;

        el.addEventListener("mousedown", (e) => {
          isDragging = true;
          startX = e.clientX;
          startY = e.clientY;
          const rect = el.getBoundingClientRect();
          origX = rect.left;
          origY = rect.top;
          el.style.position = "fixed";
          el.style.left = origX + "px";
          el.style.top = origY + "px";
          el.style.zIndex = 100;
          el.style.transition = "none";
          document.body.style.userSelect = "none";
          e.preventDefault();
        });

        document.addEventListener("mousemove", (e) => {
          if (!isDragging) return;
          const dx = e.clientX - startX;
          const dy = e.clientY - startY;
          el.style.left = origX + dx + "px";
          el.style.top = origY + dy + "px";
          el.style.transform = `rotate(${dx * 0.1}deg) scale(1.2)`;
        });

        document.addEventListener("mouseup", (e) => {
          if (!isDragging) return;
          isDragging = false;
          document.body.style.userSelect = "";
          checkJarDrop(el, e.clientX, e.clientY);
        });

        // Touch support
        el.addEventListener(
          "touchstart",
          (e) => {
            const t = e.touches[0];
            isDragging = true;
            startX = t.clientX;
            startY = t.clientY;
            const rect = el.getBoundingClientRect();
            origX = rect.left;
            origY = rect.top;
            el.style.position = "fixed";
            el.style.left = origX + "px";
            el.style.top = origY + "px";
            el.style.zIndex = 100;
            el.style.transition = "none";
            e.preventDefault();
          },
          { passive: false },
        );

        document.addEventListener("touchmove", (e) => {
          if (!isDragging) return;
          const t = e.touches[0];
          const dx = t.clientX - startX;
          const dy = t.clientY - startY;
          el.style.left = origX + dx + "px";
          el.style.top = origY + dy + "px";
          el.style.transform = `rotate(${dx * 0.1}deg) scale(1.2)`;
        });
        document.addEventListener("touchend", (e) => {
          if (!isDragging) return;
          isDragging = false;
          const t = e.changedTouches[0];
          checkJarDrop(el, t.clientX, t.clientY);
        });
      }

      function checkJarDrop(el, cx, cy) {
        const jar = document.getElementById("jar-svg-wrap");
        const rect = jar.getBoundingClientRect();
        const jarCX = rect.left + rect.width / 2;
        const jarCY = rect.top + rect.height / 2;
        const dist = Math.sqrt((cx - jarCX) ** 2 + (cy - jarCY) ** 2);

        if (dist < 100) {
          collectFlower(el);
        } else {
          el.style.transition = "all 0.4s cubic-bezier(0.34,1.56,0.64,1)";
          el.style.transform = "rotate(0deg) scale(1)";
        }
      }

      function collectFlower(el) {
        collectedCount++;
        el.classList.add("collected");
        setTimeout(() => el.remove(), 600);

        // Update jar fill
        const pct = (collectedCount / TARGET) * 100;
        document.getElementById("jar-progress-fill").style.width = pct + "%";
        document.getElementById("jar-count").textContent =
          `${collectedCount} / ${TARGET} months`;

        // Fill jar visually
        const fillRect = document.getElementById("jar-fill-rect");
        const fillH = (collectedCount / TARGET) * 150;
        fillRect.setAttribute("y", 200 - fillH);
        fillRect.setAttribute("height", fillH);

        // Mini particle burst
        burstParticles(collectedCount);

        if (collectedCount >= TARGET) {
          setTimeout(celebrate, 400);
        }
      }

      function burstParticles(count) {
        const jarWrap = document.getElementById("jar-svg-wrap");
        const rect = jarWrap.getBoundingClientRect();
        const cx = rect.left + rect.width / 2;
        const cy = rect.top;
        for (let i = 0; i < 6; i++) {
          const p = document.createElement("div");
          p.style.cssText = `
      position:fixed;left:${cx}px;top:${cy}px;
      width:8px;height:8px;border-radius:50%;
      background:${["#64b5f6", "#42a5f5", "#90caf9", "#bbdefb"][i % 4]};
      pointer-events:none;z-index:1000;
      animation:burstAnim 0.6s ease-out forwards;
      transform:translate(-50%,-50%);
    `;
          const angle = (i / 6) * Math.PI * 2;
          const dist = 40 + Math.random() * 40;
          p.style.setProperty("--tx", Math.cos(angle) * dist + "px");
          p.style.setProperty("--ty", Math.sin(angle) * dist + "px");
          document.body.appendChild(p);
          setTimeout(() => p.remove(), 700);
        }
      }

      // =============================================
      //  CELEBRATION
      // =============================================
      function celebrate() {
        // Confetti
        const layer = document.getElementById("confetti-layer");
        layer.style.display = "block";
        const colors = [
          "#64b5f6",
          "#42a5f5",
          "#90caf9",
          "#bbdefb",
          "#2196f3",
          "#1e88e5",
          "#1565c0",
        ];
        for (let i = 0; i < 120; i++) {
          const p = document.createElement("div");
          p.className = "confetti-piece";
          p.style.left = Math.random() * 100 + "vw";
          p.style.background =
            colors[Math.floor(Math.random() * colors.length)];
          p.style.width = 6 + Math.random() * 10 + "px";
          p.style.height = 6 + Math.random() * 10 + "px";
          p.style.borderRadius = Math.random() > 0.5 ? "50%" : "2px";
          const duration = 2 + Math.random() * 3 + "s";
          const delay = Math.random() * 2 + "s";
          p.style.animationDuration = duration;
          p.style.animationDelay = delay;
          layer.appendChild(p);
        }

        const overlay = document.getElementById("celebration-overlay");
        overlay.classList.add("show");

        setTimeout(() => {
          layer.style.display = "none";
          overlay.classList.remove("show");
          layer.innerHTML = "";
        }, 5000);
      }

      // Burst keyframe
      const style = document.createElement("style");
      style.textContent = `
  @keyframes burstAnim {
    from { transform: translate(-50%,-50%) scale(1); opacity: 1; }
    to { transform: translate(calc(-50% + var(--tx)), calc(-50% + var(--ty))) scale(0); opacity: 0; }
  }
`;
      document.head.appendChild(style);

      // =============================================
      //  THEME TOGGLE
      // =============================================
      function setTheme(night) {
        document.body.dataset.night = night;
        isNight = night;
        document.getElementById("btn-day").classList.toggle("active", !night);
        document.getElementById("btn-night").classList.toggle("active", night);
      }

      // =============================================
      //  INTERSECTION OBSERVER ‚Äî Animate in
      // =============================================
      const io = new IntersectionObserver(
        (entries) => {
          entries.forEach((e) => {
            if (e.isIntersecting) {
              e.target.style.opacity = "1";
              e.target.style.transform = "translateY(0)";
            }
          });
        },
        { threshold: 0.1 },
      );

      document
        .querySelectorAll(".bento-card, .letter-content, .tl-chapter")
        .forEach((el) => {
          el.style.opacity = "0";
          el.style.transform = "translateY(32px)";
          el.style.transition = "opacity 0.7s ease, transform 0.7s ease";
          io.observe(el);
        });

      // =============================================
      //  FLOATING DOCK ‚Äî Simplified Logic
      // =============================================
      // Removed the buggy hide/show logic to ensure the dock stays usable.
      // It stays fixed at the bottom.
    </script>
  </body>
</html>
